(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,n){},MfAe:function(e){e.exports=JSON.parse('[{"id":0,"value":"All"},{"id":1,"value":"Bob"},{"id":2,"value":"Maria"},{"id":3,"value":"Jon"},{"id":4,"value":"Nik"},{"id":5,"value":"Alex"}]')},QfWi:function(e,t,n){"use strict";n.r(t);n("hi3g"),n("lYjL"),n("RtS0"),n("IvQZ"),n("lmye"),n("4NM0"),n("3dw1"),n("aof5"),n("0HMw"),n("IlJM"),n("8cZI"),n("fp7Y");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e,t,n){this.selectRef=document.querySelector(e),this.options=t,this.selectedID=n,this.dispatchFilter=t.dispatchFilter?t.dispatchFilter:null,this._render(),this._setup(),this.valueRef=document.querySelector(e+' [data-type="value"]'),this.selectedItemsArray=[]}var t,n,a,i=e.prototype;return i._setup=function(){this.handlerEvent=this.handlerEvent.bind(this),this.selectRef.addEventListener("click",this.handlerEvent)},i.handlerEvent=function(e){var t=e.target.dataset.type;if("input"===t&&this.toggle(),"item"===t){var n=Number(e.target.dataset.id);this.selectedID=n;var r=this.selectedItemsArray.find((function(e){return Number(e.id)===n})),a=this.selectedItemsArray.find((function(e){return 0===Number(e.id)})),i=this._currentItem(),s=this.selectRef.querySelectorAll(".selected");(a||0==this.selectedItemsArray.length)&&(s.forEach((function(e){e.classList.remove("selected")})),this.selectedItemsArray=[]),r?(this.selectedItemsArray=[].concat(this.selectedItemsArray.filter((function(e){return Number(e.id)!==n}))),e.target.classList.remove("selected")):(0===n&&(this.selectedItemsArray=[],s.forEach((function(e){e.classList.remove("selected")}))),this.selectedItemsArray.push(i),e.target.classList.add("selected")),this.valueRef.textContent=this.selectedItemsArray.length>0?this.selectedItemsArray.map((function(e){return e.value})):"All"}"backdrop"===t&&this.close()},i._currentItem=function(){var e=this;return this.options.data.find((function(t){return Number(t.id)===e.selectedID}))},i.getSelectedItemsArray=function(){return this.selectedItemsArray},i.toggle=function(){this.isOpen?this.close():this.open()},i._render=function(){var e=this.options,t=e.placeholder,n=e.data,r=e.startID;this.selectRef.classList.add("select"),this.selectRef.innerHTML=function(e,t,n){void 0===e&&(e=[]);var r=null!=t?t:"Select Value",a=" ",i=e.map((function(e){return e.id===n?(r=e.value,a="selected"):a=" ",'<li class="select-item '+a+'" data-type="item" data-id="'+e.id+'">'+e.value+"</li>"}));return'<div class="select-backdrop" data-type="backdrop"></div>\n           <div class="select-input" data-type="input">\n          <span class="select-text" data-type="value">\n            '+r+'\n          </span>\n        </div>\n        <div class="select-dropdown">\n          <ul class="select-list">\n           '+i.join(" ")+"\n          </ul>\n        </div>"}(n,t,r)},i.open=function(){this.selectRef.classList.add("open")},i.close=function(){this.dispatchFilter&&this.dispatchFilter(this.selectedItemsArray),this.selectRef.classList.remove("open")},i.delete=function(){this.selectRef.removeEventListener("click",this.handlerEvent),this.selectRef.innerHTML=" "},t=e,(n=[{key:"isOpen",get:function(){return this.selectRef.classList.contains("open")}}])&&r(t.prototype,n),a&&r(t,a),e}(),i=n("MfAe"),s=n("wqZ+"),o=n.n(s),l=new a('[data-type="form-select-members"]',{placeholder:"select value",data:i}),c=function(){function e(e){var t=e.selectorForm,n=e.dispatchEvent;this.formRef=document.querySelector(t),this._init(),this.eventItem=null,this.eventsItemArray=[],this.dispatchEvent=n,this.tableBodyRef=document.querySelector('[data-type="table-area"]'),this.errorFormRef=document.querySelector('[data-type="form-error"]')}var t=e.prototype;return t._init=function(){this._formHandlerSubmit=this._formHandlerSubmit.bind(this),this.formRef.addEventListener("submit",this._formHandlerSubmit)},t._isCellFree=function(e){var t=!0;return this.tableBodyRef.querySelector('[data-marker="'+e+'"]').firstElementChild&&(t=!1),t},t._errorHandler=function(e){var t=this;this.errorFormRef.classList.remove("hidden");var n='<p class="form-error_message">'+e+"</p>";this.errorFormRef.innerHTML=n;var r=setTimeout((function(){t.errorFormRef.classList.add("hidden"),t.errorFormRef.innerHTML="",clearTimeout(r)}),2e3)},t._formHandlerSubmit=function(e){e.preventDefault();var t=l.getSelectedItemsArray(),n=new FormData(this.formRef);t.length>0?(this.eventItem={id:o()(),eventName:n.get("name"),memberArr:t,marker:n.get("time")+"-"+n.get("day")},this._isCellFree(this.eventItem.marker)?(this.formRef.reset(),this.dispatchEvent(this.eventItem)):this._errorHandler("Failed to create an event.Time slot is already booked")):this._errorHandler("Select Patricipants!")},e}();var d=function(){function e(){this.modalRef=document.querySelector('[data-type="modal"]')}var t=e.prototype;return t.open=function(){this.modalRef.classList.add("open")},t.close=function(){this.modalRef.classList.remove("open")},e}(),u=n("bqal");function f(){return""+u.time.map((function(e){return function(e){var t=u.day.map((function(t){return'<td data-marker="'+e+"-"+t+'" data-type="cell"></td>'}));return'<tr data-type="tr">\n    <td class="table-events_row-title">'+e+":00</td>\n    "+t.join(" ")+"\n    </tr >"}(e)})).join(" ")}var h=function(){function e(e){var t=e.selectorButtonCreateEvent,n=e.selectorPageNav,r=e.selectorSectionForm,a=e.selectorSectionTable,i=e.selectorButtonCancelCreate;this.buttonCreateEventRef=document.querySelector(t),this.buttonCancelEventRef=document.querySelector(i),this.pageNavRef=document.querySelector(n),this.pageSectionFormRef=document.querySelector(r),this.pageSectionTableRef=document.querySelector(a),this._init()}var t=e.prototype;return t._init=function(){this._handlerButtonCreate=this._handlerButtonCreate.bind(this),this.buttonCreateEventRef.addEventListener("click",this._handlerButtonCreate),this._handlerButtonCancel=this._handlerButtonCancel.bind(this),this.buttonCancelEventRef.addEventListener("click",this._handlerButtonCancel)},t._handlerButtonCancel=function(){this.viewPageTable()},t._handlerButtonCreate=function(){this.viewPageForm()},t.viewPageTable=function(){this.pageNavRef.classList.remove("hidden"),this.pageSectionTableRef.classList.remove("hidden"),this.pageSectionFormRef.classList.add("hidden")},t.viewPageForm=function(){this.pageNavRef.classList.add("hidden"),this.pageSectionTableRef.classList.add("hidden"),this.pageSectionFormRef.classList.remove("hidden")},e}();function m(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=[],y=null,b=new d,g=new h({selectorButtonCreateEvent:'[data-type="button-create"]',selectorButtonCancelCreate:'[data-type="button-cancel"]',selectorPageNav:'[data-type="page-nav"]',selectorSectionForm:'[data-type="section-form"]',selectorSectionTable:'[data-type="section-table"]'}),R={tableBodyRef:document.querySelector('[data-type="table-area"]'),modalRef:document.querySelector('[data-type="modal"]')};R.tableBodyRef.innerHTML=f(),p=[].concat(JSON.parse(localStorage.getItem("save_data"))),I();var S=R.tableBodyRef.querySelectorAll('[data-type="cell"]');new a('[data-type="select-plugin"]',{placeholder:"select value",data:i,startID:0,dispatchFilter:function(e){if(e){var t=e.map((function(e){return e.value}));S.forEach((function(e){var n=e.firstElementChild,r=n&&n.dataset.membersfilter;if(n)for(var a,i=m(t);!(a=i()).done;){var s=a.value;if(r.includes(s)||"All"===s||"All"===r)return void n.classList.remove("hidden");n.classList.add("hidden")}}))}}});new c({selectorForm:'[data-type="form-events"]',dispatchEvent:function(e){g.viewPageTable(),p.push(e),I(),L()}});function I(){p.map((function(e){var t=R.tableBodyRef.querySelector('[data-marker="'+e.marker+'"]'),n=function(e){var t=e.memberArr.map((function(e){return e.value})).join("");return'<div class="event" data-type="event" data-id="'+e.id+'" data-membersfilter="'+t+'">\n           <h2 class="event_title">'+e.eventName+'</h2>\n           <button class="event_button-delete" type=\'button\' data-type="button-delete" >x</button>\n           </div>'}(e);t.innerHTML=n}))}function L(){var e=JSON.stringify(p);localStorage.setItem("save_data",e)}R.tableBodyRef.addEventListener("click",(function(e){e.target.dataset&&("button-delete"===e.target.dataset.type&&(console.log("click"),b.open(),y=e.target.parentNode.dataset.id))})),R.modalRef.addEventListener("click",(function(e){if(e.target.dataset)switch(e.target.dataset.type){case"button-delete":console.log("arrayCellRefs in delete",S),S.forEach((function(e){var t;(null==(t=e.firstElementChild)?void 0:t.dataset.id)===y&&(e.innerHTML="",p=[].concat(p.filter((function(e){return e.id!==y}))),y=null,L())})),b.close();break;case"button-close":b.close();break;default:return void console.log("no defined type")}}))},bqal:function(e){e.exports=JSON.parse('{"day":["mon","tue","wed","thu","fri"],"time":[10,11,12,13,14,15,16,17,18]}')}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.c8cdbea9fadcb816ddad.js.map